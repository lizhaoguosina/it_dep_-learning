# 什么是虚拟机 #

## 虚拟机简介 ##

什么是虚拟机，这是个很庞大的问题。详细展开就是一个可以谈论很久的问题。在此我们不去讨论具体的一些细节问题，只是简单的泛泛而谈的说一个大致的定义。（毕竟这只是初级教程，不求甚解的先了解了再学习也可以，不是吗？）虚拟机就是在一台我们称其为“宿主机”的机器上，使用软件方法又模拟出了一台机器。在模拟出来的这台机器上，我们可以安装与“宿主机”相同或者不同的操作系统。我们把模拟出来的这台机器就称为“虚拟机”，这个软件我们就叫做“虚拟机软件”。</br>
如果你对于虚拟机已经有了初步的了解，那么你可能听说过所谓“底层虚拟化”这样的名词。不过问题不大，这篇初级教程中不会涉及到这么高级的程度。你只需要知道，虚拟机就是在一台宿主机上模拟出来的一个或者多个机器，这就足够了。</br>
对于虚拟机软件，按照虚拟化程度的差异（是的，这个也有差异，我们到进阶篇再讲解）可以分成好几种。在此我按照不同的类别举几个例子进行说明。

|常用虚拟机软件|
|:---:|
|esxi、hyper-V|
|VMware、Virtual Box|
|docker、k8s|

对于实际操作中，你们只需要先了解我们用的最多的VMware系列的就足够了。（可能很多人会觉得最后一行不算虚拟机软件，但按照我这个分类也是算的。）</br></br>

## 为什么要使用虚拟机 ##

虚拟机的一大特点就是它与宿主机系统是隔离的。同时一些虚拟机也包括快照以及恢复的功能。这是我们使用虚拟机最主要的原因之一。因为虚拟机和宿主机是有隔离的，因此，可以在虚拟机中进行一些比较危险的操作，在确保不会造成大问题之后再在实际运行服务的机器上进行操作。在操作失误后也不需要重新安装再安装所有需要的软件，只需要再操作前做好快照，再失败后回滚到操作前的快照就好了。</br>
同时，现代x86服务器的性能，通常都远超过了运行单一服务的建议要求，我们也可以使用虚拟机来使得服务器的使用率达到最高，同时将不同的服务使用不同的虚拟机进行部署，避免因为一个服务阻塞了其他服务的运行。</br>
这就引入了另一个优点。不少虚拟机进行性能调整也是比较方便的。我们甚至可以在虚拟机运行中增加虚拟机消耗内存上限以及使用CPU逻辑运行器数。</br>
这中间还包含了一个潜在的优点，你可以把在A机器上已经配置好的虚拟机打包起来，复制粘贴到B机器上，在B机器上一般也可以直接运行。

## 为什么不要用虚拟机 ##

首先，虚拟机的隔离并不是完美的隔离，在不少情况下，虚拟机的隔离都是有限度的隔离，宿主机和虚拟机之间仍然具有不少的交流。这也就是，为什么使用虚拟机测试风险软件也不一定是安全的。</br>
其次，虚拟机内的性能相较于宿主机仍然时有所损失的。目前尚未有无损失的虚拟机技术出现。虽然巨硬公司声称其虚拟化技术造成的性能损失已经可以忽略不计，但仍然是有所损失的。因此，如果要运行一些巨型软件，或者你对于性能极其敏感，那么就不是虚拟化技术的受众。

## 那么，开始享用虚拟机吧 ##

现在，VMware公司的player版已经免费使用了，在网上也可以找到专业版（workstation版）的激活码。现在就下载安装一个VMware的版本，并安装一个Ubuntu虚拟及进行体验吧。
